{"version":3,"sources":["app.min.js"],"names":["t","e","when","templateUrl","controller","controllerAs","otherwise","redirectTo","html5Mode","l","$on","o","r","path","isLoggedIn","angular","module","config","run","n","this","getTopic","success","console","log","lasteditiondate","claninfo","generalinfo","error","$inject","NB_TOP","results","memberResults","sangRoyaleFamily","topchest","s","length","getClanChestForClan","push","sort","result","getMembersClanChestCrowns","name","members","clanName","clanChestCrowns","JSON","stringify","slice","user","getProfile","tournaments","getTournaments","credentials","email","password","onSubmit","login","alert","then","register","get","service","localStorage","split","atob","parse","exp","Date","now","i","post","token","logout","removeItem","currentUser","saveToken","getToken","headers","Authorization","restrict","scope","date","link","Math","floor","getTime","text","dhms","directive","factory","a"],"mappings":"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","file":"app.min.js","sourcesContent":["!function(){function t(t,e){t.when(\"/\",{templateUrl:\"home/home.view.html\",controller:\"homeCtrl\",controllerAs:\"vm\"}).when(\"/register\",{templateUrl:\"/auth/register/register.view.html\",controller:\"registerCtrl\",controllerAs:\"vm\"}).when(\"/login\",{templateUrl:\"/auth/login/login.view.html\",controller:\"loginCtrl\",controllerAs:\"vm\"}).when(\"/profile\",{templateUrl:\"/profile/profile.view.html\",controller:\"profileCtrl\",controllerAs:\"vm\"}).when(\"/about\",{templateUrl:\"/about/about.view.html\",controller:\"aboutCtrl\",controllerAs:\"vm\"}).when(\"/tournaments\",{templateUrl:\"/tournaments/tournaments.view.html\",controller:\"tournamentsCtrl\",controllerAs:\"vm\"}).when(\"/tournamentsplanning\",{templateUrl:\"/tournaments/tournaments-planning.view.html\",controller:\"calendarCtrl\",controllerAs:\"vm\"}).when(\"/loyalty\",{templateUrl:\"/loyalty/loyalty.view.html\",controller:\"loyaltyCtrl\",controllerAs:\"vm\"}).when(\"/other/guides\",{templateUrl:\"/other/other.guides.view.html\"}).when(\"/other/media\",{templateUrl:\"/other/other.media.view.html\"}).when(\"/other/updatelog\",{templateUrl:\"/other/other.update-app-log.view.html\"}).when(\"/crownchest\",{templateUrl:\"/crownchest/crownchest.html\",controller:\"crownchestsCtrl\",controllerAs:\"vm\"}).otherwise({redirectTo:\"/\"}),e.html5Mode(!0)}function e(t,e,l){t.$on(\"$routeChangeStart\",function(t,o,r){\"/profile\"!==e.path()||l.isLoggedIn()||e.path(\"/\")})}angular.module(\"sangRoyaleApp\",[\"ngRoute\",\"ui.bootstrap\",\"ui.calendar\"]),angular.module(\"sangRoyaleApp\").config([\"$routeProvider\",\"$locationProvider\",t]).run([\"$rootScope\",\"$location\",\"authentication\",e])}();\n!function(){function o(o,n){var t=this;n.getTopic().success(function(o){console.log(\"Data\"+o),t.lasteditiondate=o.lasteditiondate,t.claninfo=o.claninfo,t.generalinfo=o.generalinfo}).error(function(o){console.log(o)})}angular.module(\"sangRoyaleApp\").controller(\"aboutCtrl\",o),o.$inject=[\"$location\",\"about\"]}();\n!function(){function o(){console.log(\"Home controller is running\")}angular.module(\"sangRoyaleApp\").controller(\"homeCtrl\",o)}();\n!function(){function l(){console.log(\"Loyalty controller is running\")}angular.module(\"sangRoyaleApp\").controller(\"loyaltyCtrl\",l)}();\n!function(){function e(e){var r=this;r.NB_TOP=5,r.results=[],r.memberResults=[],r.error=!1,r.sangRoyaleFamily=[\"CJQLP2\",\"2LUU0R0L\",\"8CPG2YU\",\"8GQL980P\"],r.topchest=[];for(var s=0;s<r.sangRoyaleFamily.length;s++)e.getClanChestForClan(r.sangRoyaleFamily[s]).success(function(e){r.results.push(e),r.results.sort(function(e,r){return r.result-e.result})}).error(function(e){console.log(\"Error\"+e),e&&(r.error=!0)}),e.getMembersClanChestCrowns(r.sangRoyaleFamily[s]).success(function(e){console.log(\"ddfz\"),r.memberResults.push(e),r.memberResults.length==r.sangRoyaleFamily.length&&(r.topchest=n())}).error(function(e){console.log(\"Error\"+e),e&&(r.error=!0)});var n=function(){for(var e=[],s=0;s<r.memberResults.length;s++)for(var n=r.memberResults[s].name,o=r.memberResults[s].members,l=0;l<o.length;l++)o[l].clanName=n,e.push(o[l]);return e.sort(function(e,r){return r.clanChestCrowns-e.clanChestCrowns}),console.log(\"ff\"+JSON.stringify(e)),e.slice(0,r.NB_TOP)}}angular.module(\"sangRoyaleApp\").controller(\"crownchestsCtrl\",e),e.$inject=[\"crapi\"]}();\n!function(){function o(o,n){var e=this;e.user={},n.getProfile().success(function(o){e.user=o}).error(function(o){console.log(o)})}angular.module(\"sangRoyaleApp\").controller(\"profileCtrl\",o),o.$inject=[\"$location\",\"meanData\"]}();\n!function(){function n(n,o){var t=this;t.tournaments={},o.getTournaments().success(function(n){console.log(\"Data\"+n),t.tournaments=n}).error(function(n){console.log(n)})}angular.module(\"sangRoyaleApp\").controller(\"tournamentsCtrl\",n),n.$inject=[\"$location\",\"tournaments\"]}();\n!function(){function n(n,t){var o=this;o.credentials={email:\"\",password:\"\"},o.onSubmit=function(){t.login(o.credentials).error(function(n){alert(n)}).then(function(){n.path(\"profile\")})}}angular.module(\"sangRoyaleApp\").controller(\"loginCtrl\",n),n.$inject=[\"$location\",\"authentication\"]}();\n!function(){function n(n,t){var e=this;e.credentials={name:\"\",email:\"\",password:\"\"},e.onSubmit=function(){console.log(\"Submitting registration\"),t.register(e.credentials).error(function(n){alert(n)}).then(function(){n.path(\"profile\")})}}angular.module(\"sangRoyaleApp\").controller(\"registerCtrl\",n),n.$inject=[\"$location\",\"authentication\"]}();\n!function(){function t(t){var n=function(){return t.get(\"/api/about\")};return{getTopic:n}}angular.module(\"sangRoyaleApp\").service(\"about\",t),t.$inject=[\"$http\"]}();\n!function(){function n(n,e){var t=function(n){e.localStorage[\"mean-token\"]=n},o=function(){return e.localStorage[\"mean-token\"]},r=function(){var n,t=o();return!!t&&(n=t.split(\".\")[1],n=e.atob(n),n=JSON.parse(n),n.exp>Date.now()/1e3)},i=function(){if(r()){var n=o(),t=n.split(\".\")[1];return t=e.atob(t),t=JSON.parse(t),{email:t.email,name:t.name}}};return register=function(e){return n.post(\"/api/register\",e).success(function(n){t(n.token)})},login=function(e){return n.post(\"/api/login\",e).success(function(n){t(n.token)})},logout=function(){e.localStorage.removeItem(\"mean-token\")},{currentUser:i,saveToken:t,getToken:o,isLoggedIn:r,register:register,login:login,logout:logout}}angular.module(\"sangRoyaleApp\").service(\"authentication\",n),n.$inject=[\"$http\",\"$window\"]}();\n!function(){function n(n){var e=function(e){return n.get(\"/api/crownchests/\"+e)},t=function(e){return n.get(\"api/membersClanChestCrowns/\"+e)};return{getClanChestForClan:e,getMembersClanChestCrowns:t}}angular.module(\"sangRoyaleApp\").service(\"crapi\",n),n.$inject=[\"$http\"]}();\n!function(){function e(e,t){var n=function(){return e.get(\"/api/profile\",{headers:{Authorization:\"Bearer \"+t.getToken()}})};return{getProfile:n}}angular.module(\"sangRoyaleApp\").service(\"meanData\",e),e.$inject=[\"$http\",\"authentication\"]}();\n!function(){function n(n){var t=function(){return n.get(\"/api/tournaments\")};return{getTournaments:t}}angular.module(\"sangRoyaleApp\").service(\"tournaments\",n),n.$inject=[\"$http\"]}();\n!function(){function n(){}angular.module(\"sangRoyaleApp\").controller(\"calendarCtrl\",n)}();\n!function(){function t(t,e){return{restrict:\"A\",scope:{date:\"@\"},link:function(n,r){var o;o=new Date(n.date),e(function(){var e;return e=Math.floor((o.getTime()-(new Date).getTime())/1e3),r.text(t.dhms(e))},1e3)}}}angular.module(\"sangRoyaleApp\").directive(\"countdown\",t).factory(\"Util\",function(){return{dhms:function(t){var e,n,r,o;e=Math.floor(t/86400),t-=86400*e,n=Math.floor(t/3600)%24,t-=3600*n,r=Math.floor(t/60)%60,t-=60*r,o=t%60;var a=[e+\"d\",n+\"h\",r+\"m\",o+\"s\"];return a}}}),t.$inject=[\"Util\",\"$interval\"]}();\n!function(){function n(n,t){var o=this;o.isLoggedIn=t.isLoggedIn(),o.currentUser=t.currentUser()}angular.module(\"sangRoyaleApp\").controller(\"navigationCtrl\",n),n.$inject=[\"$location\",\"authentication\"]}();\n!function(){function n(){return{restrict:\"EA\",templateUrl:\"/common/directives/navigation/navigation.template.html\",controller:\"navigationCtrl as navvm\"}}angular.module(\"sangRoyaleApp\").directive(\"navigation\",n)}();"]}